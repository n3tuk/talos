---
# yamllint disable-line rule:line-length
# yaml-language-server: $schema=https://docs.siderolabs.com/talos/v1.11/schemas/v1alpha1_config.schema.json
version: v1alpha1
machine:
  network:
    hostname: controller-03
  certSANs:
    - 2a02:8010:8006:3a38:be24:11ff:fe58:d597
    - 172.23.38.2

  nodeLabels:
    # The zone is used by the Proxmox CSI plugin to select the correct host for
    # provisioning volumes on the Proxmox cluster, as well as to ensure that
    # Pods are correctly scheduled to nodes in the right zone (where applicable)
    topology.kubernetes.io/zone: proxmox-03

cluster:
  apiServer:
    certSANs:
      - api.development.kub3.uk
      - controller-03.development.kub3.uk
      - 2a02:8010:8006:3a38:be24:11ff:fe58:d597
      - 172.23.38.2
